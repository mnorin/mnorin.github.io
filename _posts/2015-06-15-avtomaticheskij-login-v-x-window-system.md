---
title: Автоматический логин в X Window System
date: 2015-06-15T00:16:46+03:00
author: Maxim Norin
layout: post
permalink: /avtomaticheskij-login-v-x-window-system.html
categories:
  - Статьи
tags:
  - linux
  - nodm
  - X Window System
  - xdm
  - Xorg
  - автоматический логин
---
Автоматический логин в X Window System в linux часто бывает необходим при создании электронных киосков, организации интернет-кафе или просто для ускорения входа в систему для компьютера, которым пользуетесь только вы. Тогда сразу после загрузки вы автоматически залогинитесь в систему под определенным пользователем и запустится графическая оболочка. Вот как это можно реализовать.
<!--more-->

## Удаление установленного Desktop Manager'а
В первую очередь удаляем установленный Desktop Manager (вместо xdm подставьте тот, который у вас  в данный момент установлен (kdm, gdm, lightdm, ...)).
```
apt-get remove xdm
```

## Установка nodm
Устанавливаем пакет nodm
```
apt-get install nodm
```

## Настраиваем автоматический логин с помощью nodm
После установки пакета настраиваем nodm. Для этого редактируем файл /etc/default/nodm. Настроек всего несколько. Надо привести их к такому виду:
```
# Эту настройку нужно установить во что-то отличное от 'false' чтобы nodm стартовал
NODM_ENABLED=true

# Пользователь для автоматического логина
NODM_USER=user

# Первый терминал, с которого nodm начнет поиск свободного
# На седьмом обычно работает графическая оболочка
NODM_FIRST_VT=7

# Исполнимый файл инициализации X-сессии
NODM_XSESSION=/etc/X11/Xsession

# Опции для X-сервера
NODM_X_OPTIONS='-nolisten tcp'

# Если X-сессия отработает меньше указанного времени в секундах, nodm
# будет ждать до рестарта сессии
NODM_MIN_SESSION_TIME=60
```
В общем, вот и всё. Теперь можно рестартовать машину и наблюдать, как после загрузки системы запускается графическая оболочка в сессии указанного в конфигурационном файле пользователя, то есть происходит автоматический логин и последующий запуск оболочки.

Надо только помнить о том, что такой способ запуска графической оболочки является нежелательным с точки зрения безопасности, поэтому надо быть внимательным относительно того, какие возможности есть у пользователя, под которым запускается сессия, для работы с системой.
